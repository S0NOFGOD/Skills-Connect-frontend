<!DOCTYPE html>                  
<html lang="en">                  
<head>                  
<meta charset="UTF-8" />                  
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>                  
<title>SkillConnect ‚Äî Connect with Skilled Professionals</title>                  
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">                  
<style>                  
* {margin:0;padding:0;box-sizing:border-box;font-family:'Montserrat',sans-serif;}                  
body {min-height:100vh; background:linear-gradient(135deg,#0f2027,#203a43,#2c5364); display:flex; align-items:center; justify-content:center; color:#fff;}                  
.container{width:95%; max-width:500px; background:rgba(255,255,255,0.08); backdrop-filter:blur(20px); border-radius:20px; padding:30px; box-shadow:0 25px 60px rgba(0,0,0,0.4);}                  
h1{text-align:center;margin-bottom:10px;}                  
p{text-align:center;font-size:14px;opacity:0.85;margin-bottom:25px;}                  
input,button,select{width:100%; padding:14px; margin-bottom:12px; border-radius:12px; border:none; outline:none; font-size:14px;}                  
input,select{background:rgba(255,255,255,0.15); color:#fff;}                  
button{background:linear-gradient(135deg,#00c6ff,#0072ff); color:#fff; font-weight:600; cursor:pointer;}                  
button:disabled{opacity:0.6;cursor:not-allowed;}                  
.tabs{display:flex;justify-content:space-around;margin-bottom:20px;}                  
.tab{padding:10px 20px;cursor:pointer;border-radius:12px;}                  
.tab.active{background:linear-gradient(135deg,#00c6ff,#0072ff);}                  
.form-section{display:none;flex-direction:column;}                  
.form-section.active{display:flex;}                  
.error{color:#ff4b5c;font-size:13px;margin-bottom:10px;text-align:center;}                  
.success{color:#00ffae;font-size:13px;margin-bottom:10px;text-align:center;}                  
.password-wrapper{position:relative;}                  
.password-wrapper input{padding-right:40px;}                  
.toggle-password{position:absolute; right:12px; top:50%; transform:translateY(-50%); cursor:pointer;}                  
.location-finder-btn{margin-bottom:10px; background:linear-gradient(135deg,#ff9900,#ff6600); font-weight:600; cursor:pointer;}                  
.back-login-btn{margin-top:5px; background:linear-gradient(135deg,#888,#444); font-weight:600; cursor:pointer;}                  
</style>                  
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>                  
</head>                  
<body>                  
<div class="container">                  
  <h1>Welcome to SkillConnect</h1>                  
  <p>Login or create an account</p>                  
                  
  <div class="tabs">                  
    <div class="tab active" id="login-tab">Login</div>                  
    <div class="tab" id="signup-tab">Signup</div>                  
  </div>                  
                  
  <!-- LOGIN FORM -->                  
  <div class="form-section active" id="login">                  
    <div class="error" id="login-error"></div>                  
    <div class="success" id="login-success"></div>                  
    <input type="email" id="login-email" placeholder="Email">                  
    <div class="password-wrapper">                  
      <input type="password" id="login-password" placeholder="Password">                  
      <span class="toggle-password" data-target="login-password">üëÅÔ∏è</span>                  
    </div>                  
    <button type="button" id="login-btn">Login</button>                  
    <button type="button" id="forgot-btn" style="background:linear-gradient(135deg,#ff6a00,#ee0979)">Forgot Password?</button>                  
                  
    <!-- FORGOT PASSWORD -->                  
    <div id="forgot-email-container" style="display:none;flex-direction:column;">                  
      <div class="error" id="forgot-error"></div>                  
      <div class="success" id="forgot-success"></div>                  
      <input type="email" id="forgot-email" placeholder="Enter your email">                  
      <button type="button" id="send-reset-btn" style="background:linear-gradient(135deg,#ff99cc,#ff3399)">Send Reset Code</button>                  
      <button type="button" class="back-login-btn" id="back-login-btn">Back to Login</button>                  
    </div>                  
                  
    <!-- RESET PASSWORD -->                  
    <div id="reset-password-container" style="display:none;flex-direction:column;">                  
      <div class="error" id="reset-error"></div>                  
      <div class="success" id="reset-success"></div>                  
      <input type="text" id="reset-code" placeholder="Enter reset code">                  
      <div class="password-wrapper">                  
        <input type="password" id="new-password" placeholder="New password">                  
        <span class="toggle-password" data-target="new-password">üëÅÔ∏è</span>                  
      </div>                  
      <div class="password-wrapper">                  
        <input type="password" id="confirm-new-password" placeholder="Confirm password">                  
        <span class="toggle-password" data-target="confirm-new-password">üëÅÔ∏è</span>                  
      </div>                  
      <button type="button" id="reset-password-btn">Update Password</button>                  
      <button type="button" class="back-login-btn" id="back-reset-btn">Back to Login</button>                  
    </div>                  
  </div>                  
                  
  <!-- SIGNUP FORM -->                  
  <div class="form-section" id="signup">                  
    <div class="error" id="signup-error"></div>                  
    <div class="success" id="signup-success"></div>                  
    <input type="text" id="signup-name" placeholder="Full Name">                  
    <input type="email" id="signup-email" placeholder="Email">                  
    <input type="tel" id="signup-phone" placeholder="Phone Number">                  
    <input type="file" id="signup-image" accept="image/*">                  
    
    <!-- UPDATED SKILL SELECTION WITH LOCAL SKILLS -->                  
    <select id="signup-skill">                  
      <option value="">Select your skill</option>                  
      <option value="Barber">Barber</option>
      <option value="Plumber">Plumber</option>
      <option value="Electrician">Electrician</option>
      <option value="Mechanic">Mechanic</option>
      <option value="Tailor">Tailor</option>
      <option value="Carpenter">Carpenter</option>
      <option value="Painter">Painter</option>
      <option value="Cleaner">Cleaner</option>
      <option value="Hair Stylist">Hair Stylist</option>
      <option value="Makeup Artist">Makeup Artist</option>
    </select>                  
    
    <button type="button" class="location-finder-btn" id="find-location-btn">Find My Location</button>                  
    <input type="text" id="signup-location" placeholder="Location" readonly>                  
    <div class="password-wrapper">                  
      <input type="password" id="signup-password" placeholder="Password">                  
      <span class="toggle-password" data-target="signup-password">üëÅÔ∏è</span>                  
    </div>                  
    <div class="password-wrapper">                  
      <input type="password" id="signup-confirm-password" placeholder="Confirm Password">                  
      <span class="toggle-password" data-target="signup-confirm-password">üëÅÔ∏è</span>                  
    </div>                  
    <button type="button" id="signup-btn">Create Account</button>                  
  </div>                  
</div>                  
                  
<script>                  
window.onload = function(){                  
  emailjs.init("Achteodd-SXv6Qn9Q"); // Your public key              
              
  const validEmail = email => /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(email);                  
  const validPhone = phone => /^\+?\d{7,15}$/.test(phone);                  
              
  // Toggle password visibility                  
  document.addEventListener("click", function(e){                  
    if(e.target.classList.contains("toggle-password")){                  
      const input = document.getElementById(e.target.dataset.target);                  
      if(input) input.type = (input.type==="password") ? "text" : "password";                  
    }                  
  });                  
              
  // Tab switch                  
  function switchTab(tab){                  
    document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));                  
    document.querySelectorAll(".form-section").forEach(f=>f.classList.remove("active"));                  
    document.getElementById(tab+"-tab")?.classList.add("active");                  
    document.getElementById(tab)?.classList.add("active");                  
    ["forgot-email-container","reset-password-container"].forEach(id=>{ const el=document.getElementById(id); if(el) el.style.display="none"; });                  
    ["login-error","login-success","signup-error","signup-success","forgot-error","forgot-success","reset-error","reset-success"].forEach(id=>{ const el=document.getElementById(id); if(el) el.innerText=""; });                  
  }                  
  document.getElementById("login-tab").onclick = ()=>switchTab("login");                  
  document.getElementById("signup-tab").onclick = ()=>switchTab("signup");                  
  document.getElementById("back-login-btn")?.addEventListener("click", ()=>switchTab("login"));                  
  document.getElementById("back-reset-btn")?.addEventListener("click", ()=>switchTab("login"));                  
              
  function getUsers(){ return JSON.parse(localStorage.getItem("users") || "[]"); }                  
  function saveUsers(users){ localStorage.setItem("users", JSON.stringify(users)); }                  
              
  const lastEmail = localStorage.getItem("loggedInUser");                  
  if(lastEmail){ document.getElementById("login-email").value = lastEmail; }                  
              
  // LOGIN BUTTON                  
  document.getElementById("login-btn")?.addEventListener("click", function(){                  
    const email = document.getElementById("login-email").value.trim();                  
    const password = document.getElementById("login-password").value.trim();                  
    const errorEl = document.getElementById("login-error");                  
    errorEl.innerText="";                  
    if(!email || !password){ errorEl.innerText="Both email and password are required."; return; }                  
    if(!validEmail(email)){ errorEl.innerText="Please enter a valid email address."; return; }                  
    if(password.length<6){ errorEl.innerText="Password must be at least 6 characters."; return; }                  
    const users = getUsers();                  
    const user = users.find(u=>u.email===email && u.password===password);                  
    if(user){                   
      localStorage.setItem("loggedInUser", email);                   
      window.location.href="freelancerdashboard.html";                   
    }                  
    else { errorEl.innerText="Invalid email or password."; }                  
  });                  
              
  // SIGNUP BUTTON                  
  document.getElementById("signup-btn")?.addEventListener("click", function(){                  
    const errorEl = document.getElementById("signup-error");                  
    errorEl.innerText="";                  
    const name = document.getElementById("signup-name").value.trim();                  
    const email = document.getElementById("signup-email").value.trim();                  
    const phone = document.getElementById("signup-phone").value.trim();                  
    const location = document.getElementById("signup-location").value.trim();                  
    const skill = document.getElementById("signup-skill").value;                  
    const password = document.getElementById("signup-password").value.trim();                  
    const confirmPassword = document.getElementById("signup-confirm-password").value.trim();                  
    const imageFile = document.getElementById("signup-image").files[0];                  
              
    if(!name){ errorEl.innerText="Full name is required"; return; }                  
    if(!email){ errorEl.innerText="Email is required"; return; }                  
    if(!validEmail(email)){ errorEl.innerText="Enter a valid email"; return; }                  
    if(!phone){ errorEl.innerText="Phone number is required"; return; }                  
    if(!validPhone(phone)){ errorEl.innerText="Enter a valid phone number"; return; }                  
    if(!location){ errorEl.innerText="Location is required"; return; }                  
    if(!skill){ errorEl.innerText="Please select a skill"; return; }                  
    if(!imageFile){ errorEl.innerText="Profile image is required"; return; }                  
    if(!password){ errorEl.innerText="Password is required"; return; }                  
    if(password.length<6){ errorEl.innerText="Password must be at least 6 characters"; return; }                  
    if(password!==confirmPassword){ errorEl.innerText="Passwords do not match"; return; }                  
              
    const users = getUsers();                  
    if(users.find(u=>u.email===email)){ errorEl.innerText="Email already registered"; return; }                  
              
    const reader = new FileReader();                  
    reader.onload = function(e){                  
      users.push({name,email,phone,location,skill,password,image:e.target.result});                  
      saveUsers(users);                  
      localStorage.setItem("loggedInUser", email);                  
      window.location.href="freelancerdashboard.html";                  
    };                  
    reader.onerror = function(e){                  
      errorEl.innerText="Failed to read image file.";                  
    };                  
    reader.readAsDataURL(imageFile);                  
  });                  
              
  // FORGOT PASSWORD                  
  document.getElementById("forgot-btn")?.addEventListener("click", function(){                  
    document.getElementById("forgot-email-container").style.display="flex";                  
  });                  
              
  document.getElementById("send-reset-btn")?.addEventListener("click", function(){                  
    const email = document.getElementById("forgot-email").value.trim();                  
    const errorEl = document.getElementById("forgot-error");                  
    const successEl = document.getElementById("forgot-success");                  
    errorEl.innerText=""; successEl.innerText="";                  
    const users = getUsers();                  
    const user = users.find(u=>u.email===email);                  
    if(!user){ errorEl.innerText="Email not found"; return; }                  
              
    const code = Math.floor(1000+Math.random()*9000);                  
    localStorage.setItem("resetCode", code);                  
    localStorage.setItem("resetEmail", email);                  
              
    emailjs.send("service_w7msx75","template_d67hhwh",{to_email: email, reset_code: code})              
      .then(res=>{              
        successEl.innerText="Reset code sent to your email";               
        document.getElementById("reset-password-container").style.display="flex";                  
      })              
      .catch(err=>{              
        errorEl.innerText="Failed to send email. Try again.";               
        console.error(err);              
      });              
  });                  
              
  document.getElementById("reset-password-btn")?.addEventListener("click", function(){                  
    const enteredCode = document.getElementById("reset-code").value.trim();                  
    const newPass = document.getElementById("new-password").value.trim();                  
    const confirmPass = document.getElementById("confirm-new-password").value.trim();                  
    const errorEl = document.getElementById("reset-error");                  
    const successEl = document.getElementById("reset-success");                  
    errorEl.innerText=""; successEl.innerText="";                  
    const storedCode = localStorage.getItem("resetCode");                  
    const storedEmail = localStorage.getItem("resetEmail");                  
    if(enteredCode !== storedCode){ errorEl.innerText="Invalid reset code"; return; }                  
    if(newPass.length<6){ errorEl.innerText="Password must be at least 6 characters"; return; }                  
    if(newPass!==confirmPass){ errorEl.innerText="Passwords do not match"; return; }                  
    const users = getUsers();                  
    const index = users.findIndex(u=>u.email===storedEmail);                  
    if(index>-1){ users[index].password=newPass; saveUsers(users); successEl.innerText="Password reset successfully"; }                  
    localStorage.removeItem("resetCode");                  
    localStorage.removeItem("resetEmail");                  
    setTimeout(()=>{ window.location.href="freelancerdashboard.html"; }, 1000);                  
  });                  
              
  // Location finder                  
  document.getElementById("find-location-btn")?.addEventListener("click", function(){                  
    const signupLocationInputEl = document.getElementById("signup-location");                  
    signupLocationInputEl.value="Loading...";                  
    if(navigator.geolocation){                  
      navigator.geolocation.getCurrentPosition(async function(pos){                  
        const {latitude, longitude} = pos.coords;                  
        try{                  
          const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${latitude}&lon=${longitude}`, { headers: {'User-Agent': 'SkillConnectApp/1.0'} });                  
          const data = await res.json();                  
          const city = data.address?.city || data.address?.town || data.address?.village || "";                  
          const state = data.address?.state || "";                  
          signupLocationInputEl.value = city && state ? `${city}, ${state}` : "Location not found";                  
        }catch(err){ console.error(err); signupLocationInputEl.value="Unable to fetch location"; }                  
      }, function(err){ console.error(err); signupLocationInputEl.value="Permission denied or unavailable"; });                  
    } else signupLocationInputEl.value="Geolocation not supported";                  
  });                  
              
};                  
</script>                  
</body>                  
  </html>
