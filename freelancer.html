<!DOCTYPE html>    
<html lang="en">    
<head>    
<meta charset="UTF-8" />    
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>    
<title>SkillConnect ‚Äî Connect with Skilled Professionals</title>    
    
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">    
    
<style>    
* {margin:0;padding:0;box-sizing:border-box;font-family:'Montserrat',sans-serif;}    

body {    
  min-height:100vh;    
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);    
  display:flex;align-items:center;justify-content:center;color:#fff;    
}    

.container{    
  width:95%;max-width:500px;    
  background:rgba(255,255,255,0.08);    
  backdrop-filter:blur(20px);    
  border-radius:20px;    
  padding:30px;    
  box-shadow:0 25px 60px rgba(0,0,0,0.4);    
}    

h1{text-align:center;margin-bottom:10px;}    
p{text-align:center;font-size:14px;opacity:0.85;margin-bottom:25px;}    

input,button{    
  width:100%;    
  padding:14px;    
  margin-bottom:12px;    
  border-radius:12px;    
  border:none;    
  outline:none;    
  font-size:14px;    
}    

input{    
  background:rgba(255,255,255,0.15);    
  color:#fff;    
}    

button{    
  background:linear-gradient(135deg,#00c6ff,#0072ff);    
  color:#fff;    
  font-weight:600;    
  cursor:pointer;    
}    

button:disabled{    
  opacity:0.6;    
  cursor:not-allowed;    
}    

.tabs{display:flex;justify-content:space-around;margin-bottom:20px;}    
.tab{padding:10px 20px;cursor:pointer;border-radius:12px;}    
.tab.active{background:linear-gradient(135deg,#00c6ff,#0072ff);}    

.form-section{display:none;}    
.form-section.active{display:flex;flex-direction:column;}    

.error{color:#ff4b5c;font-size:13px;margin-bottom:10px;text-align:center;}    
.success{color:#00ffae;font-size:13px;margin-bottom:10px;text-align:center;}    

.password-wrapper{position:relative;}    
.password-wrapper input{padding-right:40px;}    

.toggle-password{    
  position:absolute;    
  right:12px;    
  top:50%;    
  transform:translateY(-50%);    
  cursor:pointer;    
}    

</style>    
</head>    
<body>    
    
<div class="container">    

<h1>Welcome to SkillConnect</h1>    
<p>Login or reset your password</p>    

<div class="tabs">    
<div class="tab active" id="login-tab">Login</div>    
<div class="tab" id="signup-tab">Signup</div>    
</div>    

<!-- LOGIN -->
<div class="form-section active" id="login">    

<div class="error" id="login-error"></div>    
<div class="success" id="login-success"></div>    

<input type="email" id="login-email" placeholder="Email">    

<div class="password-wrapper">    
<input type="password" id="login-password" placeholder="Password">    
<span class="toggle-password" data-target="login-password">üëÅÔ∏è</span>    
</div>    

<button id="login-btn">Login</button>    

<button id="forgot-btn" style="background:linear-gradient(135deg,#ff6a00,#ee0979)">Forgot Password?</button>    

<!-- FORGOT EMAIL -->
<div id="forgot-email-container" style="display:none;">    

<div class="error" id="forgot-error"></div>    
<div class="success" id="forgot-success"></div>    

<input type="email" id="forgot-email" placeholder="Enter your email">    

<button id="send-reset-btn" style="background:linear-gradient(135deg,#ff99cc,#ff3399)">    
Send Reset Code    
</button>    

</div>    

<!-- RESET PASSWORD -->
<div id="reset-password-container" style="display:none;">    

<div class="error" id="reset-error"></div>    
<div class="success" id="reset-success"></div>    

<input type="text" id="reset-code" placeholder="Enter reset code">    

<div class="password-wrapper">    
<input type="password" id="new-password" placeholder="New password">    
<span class="toggle-password" data-target="new-password">üëÅÔ∏è</span>    
</div>    

<div class="password-wrapper">    
<input type="password" id="confirm-new-password" placeholder="Confirm password">    
<span class="toggle-password" data-target="confirm-new-password">üëÅÔ∏è</span>    
</div>    

<button id="reset-password-btn">Reset Password</button>    

</div>    

</div>    

</div>    

<script>

const BACKEND_URL="https://skillconnect-backend-uv3z.onrender.com";


// EMAIL VALIDATOR
function validEmail(email){

return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);

}


// PASSWORD VALIDATOR
function validPassword(password){

return password.length>=6;

}


// PASSWORD TOGGLE
document.addEventListener("click",(e)=>{

if(e.target.classList.contains("toggle-password")){

const input=document.getElementById(e.target.dataset.target);

input.type=input.type==="password"?"text":"password";

}

});


// TAB SWITCH
function switchTab(tab){

document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
document.querySelectorAll(".form-section").forEach(f=>f.classList.remove("active"));

document.getElementById(tab).classList.add("active");
document.getElementById(tab+"-tab").classList.add("active");

}

login-tab.onclick=()=>switchTab("login");
signup-tab.onclick=()=>switchTab("signup");


// SHOW FORGOT EMAIL
forgot-btn.onclick=()=>{

forgot-email-container.style.display="flex";

};


// SEND RESET CODE
send-reset-btn.onclick=async ()=>{

const email=forgot-email.value.trim();

forgot-error.innerText="";
forgot-success.innerText="";

if(!email){

forgot-error.innerText="Email is required";
return;

}

if(!validEmail(email)){

forgot-error.innerText="Enter valid email";
return;

}

send-reset-btn.disabled=true;
send-reset-btn.innerText="Sending...";

try{

const res=await fetch(`${BACKEND_URL}/forgot-password`,{

method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({email})

});

const data=await res.json();

if(!res.ok){

forgot-error.innerText=data.message || "Failed to send code";
send-reset-btn.disabled=false;
send-reset-btn.innerText="Send Reset Code";
return;

}

forgot-success.innerText="Reset code sent to your email";

reset-password-container.style.display="flex";

send-reset-btn.innerText="Code Sent ‚úì";

}catch{

forgot-error.innerText="Server error. Try again.";

send-reset-btn.disabled=false;
send-reset-btn.innerText="Send Reset Code";

}

};


// RESET PASSWORD
reset-password-btn.onclick=async ()=>{

const email=forgot-email.value.trim();
const code=reset-code.value.trim();
const password=new-password.value.trim();
const confirm=confirm-new-password.value.trim();

reset-error.innerText="";
reset-success.innerText="";

if(!email||!code||!password||!confirm){

reset-error.innerText="All fields required";
return;

}

if(!validPassword(password)){

reset-error.innerText="Password must be at least 6 characters";
return;

}

if(password!==confirm){

reset-error.innerText="Passwords do not match";
return;

}

reset-password-btn.disabled=true;
reset-password-btn.innerText="Resetting...";

try{

const res=await fetch(`${BACKEND_URL}/reset-password`,{

method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({

email,
code,
newPassword:password

})

});

const data=await res.json();

if(!res.ok){

reset-error.innerText=data.message || "Reset failed";
reset-password-btn.disabled=false;
reset-password-btn.innerText="Reset Password";
return;

}

reset-success.innerText="Password reset successful";

reset-password-btn.innerText="Success ‚úì";

}catch{

reset-error.innerText="Server error";

reset-password-btn.disabled=false;
reset-password-btn.innerText="Reset Password";

}

};

</script>

</body>
  </html>
