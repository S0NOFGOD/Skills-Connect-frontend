<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>SkillConnect Freelancer</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>

*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Poppins',sans-serif;
}

body{

background:linear-gradient(135deg,#020617,#0f172a);

color:white;

display:flex;

justify-content:center;

}

.container{

width:100%;

max-width:430px;

min-height:100vh;

padding:20px;

}

.logo{

font-size:24px;

font-weight:700;

margin-bottom:20px;

background:linear-gradient(90deg,#06b6d4,#3b82f6);

-webkit-background-clip:text;

-webkit-text-fill-color:transparent;

}

.tabs{

display:flex;

margin-bottom:20px;

background:rgba(255,255,255,.05);

border-radius:12px;

}

.tab{

flex:1;

padding:12px;

text-align:center;

cursor:pointer;

border-radius:12px;

}

.active{

background:linear-gradient(90deg,#06b6d4,#3b82f6);

}

.form{

display:none;

}

.show{

display:block;

}

input,select{

width:100%;

padding:14px;

margin-bottom:12px;

border-radius:12px;

border:none;

background:rgba(255,255,255,.05);

color:white;

}

button{

width:100%;

padding:14px;

border:none;

border-radius:12px;

background:linear-gradient(90deg,#06b6d4,#3b82f6);

color:white;

font-weight:600;

cursor:pointer;

margin-top:5px;

}

.secondary{

background:transparent;

border:1px solid rgba(255,255,255,.2);

}

.small{

font-size:13px;

opacity:.7;

text-align:center;

margin-top:10px;

cursor:pointer;

}

.location{

font-size:13px;

opacity:.7;

margin-bottom:10px;

}

</style>

</head>
<body>

<div class="container">

<div class="logo">SkillConnect Freelancer</div>

<div class="tabs">

<div class="tab active" onclick="showTab('signup')">Signup</div>

<div class="tab" onclick="showTab('login')">Login</div>

</div>

<!-- SIGNUP -->

<div id="signup" class="form show">

<input id="name" placeholder="Full Name">

<input id="email" placeholder="Email">

<select id="skill">

<option value="">Select Local Skill</option>

<option>Barber</option>
<option>Hair Stylist</option>
<option>Tailor</option>
<option>Plumber</option>
<option>Electrician</option>
<option>Carpenter</option>
<option>Mechanic</option>
<option>Phone Repair</option>
<option>Cleaner</option>
<option>Painter</option>

</select>

<input id="phone" placeholder="Phone Number">

<input type="password" id="password" placeholder="Password">

<input type="password" id="confirmPassword" placeholder="Confirm Password">

<button onclick="findLocation()">Find My Location</button>

<div id="locationText" class="location"></div>

<button onclick="signup()">Signup</button>

</div>

<!-- LOGIN -->

<div id="login" class="form">

<input id="loginEmail" placeholder="Email">

<input type="password" id="loginPassword" placeholder="Password">

<button onclick="login()">Login</button>

<div class="small" onclick="showReset()">Forgot Password?</div>

</div>

<!-- RESET -->

<div id="reset" class="form">

<input id="resetEmail" placeholder="Enter Email">

<button onclick="sendCode()">Send Reset Code</button>

<div id="resetFields"></div>

</div>

</div>

<script>

emailjs.init("PpXJtmBS2cd6k1qfT");

let userLocation="";
let resetCode="";

function showTab(tab){

document.querySelectorAll(".form").forEach(f=>f.classList.remove("show"));

document.getElementById(tab).classList.add("show");

document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));

event.target.classList.add("active");

}

function findLocation(){

document.getElementById("locationText").innerText="Loading. hold on";

navigator.geolocation.getCurrentPosition(async pos=>{

let lat=pos.coords.latitude;

let lon=pos.coords.longitude;

let res=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);

let data=await res.json();

let city=data.address.city||data.address.town||data.address.state;

let state=data.address.state;

userLocation=city+", "+state;

document.getElementById("locationText").innerText=userLocation;

});

}

function signup(){

let name=nameInput("name");

let email=nameInput("email");

let skill=nameInput("skill");

let phone=nameInput("phone");

let pass=nameInput("password");

let confirm=nameInput("confirmPassword");

if(!name||!email||!skill||!phone||!pass||!confirm||!userLocation){

alert("Complete all fields");

return;

}

if(pass!==confirm){

alert("Passwords do not match");

return;

}

let users=JSON.parse(localStorage.getItem("freelancers")||"[]");

users.push({

name,email,skill,phone,password:pass,location:userLocation

});

localStorage.setItem("freelancers",JSON.stringify(users));

localStorage.setItem("currentFreelancer",email);

window.location="freelancerdashboard.html";

}

function login(){

let email=nameInput("loginEmail");

let pass=nameInput("loginPassword");

let users=JSON.parse(localStorage.getItem("freelancers")||"[]");

let user=users.find(u=>u.email===email&&u.password===pass);

if(!user){

alert("Invalid login");

return;

}

localStorage.setItem("currentFreelancer",email);

window.location="freelancerdashboard.html";

}

function showReset(){

document.querySelectorAll(".form").forEach(f=>f.classList.remove("show"));

document.getElementById("reset").classList.add("show");

}

function sendCode(){

let email=nameInput("resetEmail");

if(!email){

alert("Enter email");

return;

}

resetCode=Math.floor(100000+Math.random()*900000);

emailjs.send("service_w7msx75","template_d67hhwh",{

to_email:email,

reset_code:resetCode

});

document.getElementById("resetFields").innerHTML=`

<input id="code" placeholder="Enter Code">

<input type="password" id="newPass" placeholder="New Password">

<input type="password" id="confirmNewPass" placeholder="Confirm Password">

<button onclick="updatePassword()">Update Password</button>

`;

}

function updatePassword(){

let code=nameInput("code");

let pass=nameInput("newPass");

let confirm=nameInput("confirmNewPass");

if(code!=resetCode){

alert("Wrong code");

return;

}

if(pass!==confirm){

alert("Passwords do not match");

return;

}

let email=nameInput("resetEmail");

let users=JSON.parse(localStorage.getItem("freelancers"));

users.forEach(u=>{

if(u.email===email)u.password=pass;

});

localStorage.setItem("freelancers",JSON.stringify(users));

localStorage.setItem("currentFreelancer",email);

window.location="freelancerdashboard.html";

}

function nameInput(id){

return document.getElementById(id).value.trim();

}

</script>

</body>
  </html>
